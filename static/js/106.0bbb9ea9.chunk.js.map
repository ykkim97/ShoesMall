{"version":3,"file":"static/js/106.0bbb9ea9.chunk.js","mappings":"kNACA,EAA+B,8BAA/B,EAA4E,8BAA5E,EAA2H,gC,6BCA3H,EAA0B,6BAA1B,EAA6D,yBAA7D,EAAgG,6B,SCK1FA,EAAaC,EAAAA,GAAAA,GAAH,qMAUVC,EAAeD,EAAAA,GAAAA,EAAH,kEAIZE,EAAaF,EAAAA,GAAAA,EAAH,kEA+BhB,MA1BA,YAAoC,IAAdG,EAAa,EAAbA,MAAOC,EAAM,EAANA,IACnBC,GAAWC,EAAAA,EAAAA,MACjB,OACI,8BAEQF,EAAM,IAEF,iBAAKG,UAAU,qBAAqBC,QAAS,WAAOH,EAAS,WAAD,OAAYF,EAAMM,MAAQA,GAAIC,EAA1F,WACI,gBACIC,IAAG,oGAA+FP,EAA/F,kBACHQ,MAAM,MACNC,OAAO,QACPN,UAAWG,KAEf,iBAAKH,UAAWG,EAAhB,WACI,SAACX,EAAD,UAAaI,EAAMW,SACnB,SAACb,EAAD,UAAeE,EAAMY,WACrB,UAACb,EAAD,WAAaC,EAAMa,MAAnB,kBAGR,Q,mBCOpB,MA7CA,YAAyD,IAAvCC,EAAsC,EAAtCA,aAAcC,EAAwB,EAAxBA,SAAUC,EAAc,EAAdA,YAEtC,GAA2CC,EAAAA,EAAAA,UAAS,IAApD,eAAOC,EAAP,KAAuBC,EAAvB,KAuBA,OApBAC,EAAAA,EAAAA,YAAU,WACN,GAAGL,EAAU,CACT,IAAMM,GAAWC,EAAAA,EAAAA,MAEXC,GADOC,EAAAA,EAAAA,MACOC,YAAYC,IAC1BC,GAAMC,EAAAA,EAAAA,IAAIP,EAAD,gBAAoBE,EAApB,cAEfM,EAAAA,EAAAA,IAAQF,GAAI,SAACG,GACT,IAAIC,EAAUD,EAASE,MACR,MAAXD,IAAiBA,EAAU,IAC/BZ,GAAiB,OAAIY,WAEtB,CACH,IAAIA,EAAUE,aAAaC,QAAQ,WACdH,EAAN,MAAXA,EAA2B,GAChBI,KAAKC,MAAML,GAC1BZ,GAAiB,OAAIY,OAE1B,KAGC,4BACI,SAACM,EAAA,EAAD,CAAYtB,SAAUA,EAAUC,YAAaA,KAC7C,eAAIZ,UAAWG,EAAf,+CACA,mBACA,gBAAKH,UAAWG,EAAhB,SAEiC,IAAzBW,EAAcoB,QACZ,eAAIlC,UAAWG,EAAf,wEACCW,EAAcqB,KAAI,SAACtC,GAClB,OACI,SAAC,EAAD,CAAaD,MAAOc,EAAab,GAAgBA,IAAKA,GAAVA","sources":["webpack://pwa-shoes-mall/./src/routes/Watched.module.css?0d3b","webpack://pwa-shoes-mall/./src/components/ItemHistory.module.css?be33","components/ItemHistory.js","routes/Watched.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"watchedTitle\":\"Watched_watchedTitle__uxiVq\",\"emptyMessage\":\"Watched_emptyMessage__puKpL\",\"watchedItemDiv\":\"Watched_watchedItemDiv__cK7M6\"};","// extracted by mini-css-extract-plugin\nexport default {\"ItemDiv\":\"ItemHistory_ItemDiv__ochuQ\",\"img\":\"ItemHistory_img__FUaHa\",\"content\":\"ItemHistory_content__q4ZD8\"};","import React from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport styles from \"./ItemHistory.module.css\";\r\n\r\n// styled-components\r\nconst ShoesTitle = styled.h4`\r\n    width : 500px;\r\n    margin-top : 10px;\r\n    font-size : 30px;\r\n    color : Black;\r\n\r\n    @media only screen and (max-width: 1200px) {\r\n        font-size : 15px;\r\n    }\r\n`\r\nconst ShoesContent = styled.p`\r\n    font-size : 15px;\r\n    color : grey;\r\n`\r\nconst ShoesPrice = styled.p`\r\n    font-size : 20px;\r\n    color : grey;\r\n`\r\n// 최근 본 상품 컴포넌트\r\nfunction ItemHistory({shoes, idx}) {\r\n    const navigate = useNavigate();\r\n    return (\r\n        <>\r\n            {\r\n                idx < 21 \r\n                ? (\r\n                    <div className=\"col-md-12 populars\" onClick={() => {navigate(`/detail/${shoes.id}`)}} id={styles.ItemDiv}>\r\n                        <img \r\n                            src={`https://firebasestorage.googleapis.com/v0/b/shoes-shoppingmall.appspot.com/o/items%2Fshoes${idx}.jpg?alt=media`} \r\n                            width=\"80%\" \r\n                            height=\"190px\"\r\n                            className={styles.img}\r\n                        />\r\n                        <div className={styles.content}>\r\n                            <ShoesTitle>{shoes.title}</ShoesTitle>\r\n                            <ShoesContent>{shoes.content}</ShoesContent>\r\n                            <ShoesPrice>{shoes.price}원</ShoesPrice>\r\n                        </div>\r\n                    </div>\r\n                ) : null\r\n            }\r\n        </>        \r\n    )\r\n}\r\n\r\nexport default ItemHistory;","import React, { useEffect, useState } from \"react\";\r\nimport MainNavbar from \"../components/MainNavbar\";\r\nimport styles from \"./Watched.module.css\";\r\nimport ItemHistory from \"../components/ItemHistory\";\r\nimport { get, getDatabase, onValue, ref, update } from \"firebase/database\";\r\nimport { getAuth } from \"firebase/auth\";\r\n\r\nfunction Watched({popularShoes, isLogged, setIsLogged}) {\r\n    // localstorage에서 가져온 id값을 저장할 state\r\n    const [watchedItemID , setWatchedItemID] = useState([]);\r\n    \r\n    // localstorage에서 가져오는 과정\r\n    useEffect(() => {\r\n        if(isLogged) {\r\n            const database = getDatabase();\r\n            const auth = getAuth();\r\n            const userId = auth.currentUser.uid;\r\n            const Ref = ref(database, `users/${userId}/history`);\r\n\r\n            onValue(Ref,(snapshot) => {\r\n                let storage = snapshot.val();\r\n                if (storage == null) storage = [];\r\n                setWatchedItemID([...storage]);\r\n            })\r\n        } else {\r\n            let storage = localStorage.getItem('watched');\r\n            if (storage == null) storage = []; // localStorage가 비어있다면 빈 배열로\r\n            else storage = JSON.parse(storage);\r\n            setWatchedItemID([...storage]);\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            <MainNavbar isLogged={isLogged} setIsLogged={setIsLogged}/>\r\n            <h3 className={styles.watchedTitle}>최근 본 상품</h3>\r\n            <hr />\r\n            <div className={styles.watchedItemDiv}>\r\n                {\r\n                    watchedItemID.length === 0 \r\n                    ? <h3 className={styles.emptyMessage}>최근 본 상품이 없어요!</h3> \r\n                    : (watchedItemID.map((idx) => {\r\n                        return (\r\n                            <ItemHistory shoes={popularShoes[idx]} key={idx} idx={idx} />\r\n                        )\r\n                    }))\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Watched;\r\n"],"names":["ShoesTitle","styled","ShoesContent","ShoesPrice","shoes","idx","navigate","useNavigate","className","onClick","id","styles","src","width","height","title","content","price","popularShoes","isLogged","setIsLogged","useState","watchedItemID","setWatchedItemID","useEffect","database","getDatabase","userId","getAuth","currentUser","uid","Ref","ref","onValue","snapshot","storage","val","localStorage","getItem","JSON","parse","MainNavbar","length","map"],"sourceRoot":""}